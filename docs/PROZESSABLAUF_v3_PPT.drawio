<mxfile host="app.diagrams.net" modified="2026-01-20T12:00:00.000Z" agent="Claude AI" version="22.1.0" etag="text2sql-process-ppt" type="device">
  <diagram name="Prozessablauf (PowerPoint)" id="process-ppt">
    <mxGraphModel dx="1280" dy="720" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1280" pageHeight="720" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- ==================== TITEL ==================== -->
        <mxCell id="title" value="Text2SQL System - Prozessablauf" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="15" width="500" height="40" as="geometry" />
        </mxCell>

        <!-- ==================== MAIN FLOW ==================== -->

        <!-- Start -->
        <mxCell id="start" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="60" y="190" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="start-label" value="Start" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="55" y="235" width="50" height="20" as="geometry" />
        </mxCell>

        <!-- 1. User Input -->
        <mxCell id="step1" value="1. Benutzer&#xa;stellt Frage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="130" y="180" width="110" height="60" as="geometry" />
        </mxCell>

        <!-- 2. Cache Check -->
        <mxCell id="step2" value="2. Cache&#xa;prüfen" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="270" y="180" width="100" height="60" as="geometry" />
        </mxCell>

        <!-- Gateway -->
        <mxCell id="gw1" value="Hit?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="395" y="180" width="60" height="60" as="geometry" />
        </mxCell>

        <!-- 3. Context + SQL Generation -->
        <mxCell id="step3" value="3. Context laden&#xa;+ SQL generieren&#xa;(BSL-first)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="290" width="150" height="70" as="geometry" />
        </mxCell>

        <!-- OpenAI Box -->
        <mxCell id="openai" value="OpenAI&#xa;GPT-5.2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="390" width="90" height="50" as="geometry" />
        </mxCell>

        <!-- 4. Validierung -->
        <mxCell id="step4" value="4. 3-Ebenen&#xa;Validierung" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="470" y="290" width="120" height="60" as="geometry" />
        </mxCell>

        <!-- Validation Details -->
        <mxCell id="val-details" value="Layer A: BSL Compliance&#xa;Server Guards: SQL Safety&#xa;Layer B: LLM Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="460" y="370" width="150" height="60" as="geometry" />
        </mxCell>

        <!-- Gateway: Valid? -->
        <mxCell id="gw2" value="OK?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="620" y="295" width="55" height="50" as="geometry" />
        </mxCell>

        <!-- Error -->
        <mxCell id="error" value="Error" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="695" y="370" width="70" height="35" as="geometry" />
        </mxCell>

        <!-- 5. Query Execute -->
        <mxCell id="step5" value="5. SQL&#xa;ausführen" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="700" y="290" width="100" height="60" as="geometry" />
        </mxCell>

        <!-- Database -->
        <mxCell id="db" value="SQLite&#xa;credit.sqlite" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="830" y="285" width="90" height="60" as="geometry" />
        </mxCell>

        <!-- 6. Response -->
        <mxCell id="step6" value="6. Response&#xa;+ Caching" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="950" y="180" width="110" height="60" as="geometry" />
        </mxCell>

        <!-- 7. Display -->
        <mxCell id="step7" value="7. Ergebnisse&#xa;anzeigen" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="180" width="110" height="60" as="geometry" />
        </mxCell>

        <!-- End -->
        <mxCell id="end" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1220" y="190" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="end-label" value="Ende" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1215" y="235" width="50" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== CONNECTIONS ==================== -->
        <mxCell id="c1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" edge="1" parent="1" source="start" target="step1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" edge="1" parent="1" source="step1" target="step2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" edge="1" parent="1" source="step2" target="gw1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c4" value="Nein" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;fontSize=10;" edge="1" parent="1" source="gw1" target="step3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c5" value="Ja" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#996185;dashed=1;fontSize=10;" edge="1" parent="1" source="gw1" target="step6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="425" y="130" />
              <mxPoint x="1005" y="130" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="c6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9673a6;dashed=1;" edge="1" parent="1" source="step3" target="openai">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" edge="1" parent="1" source="step3" target="step4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" edge="1" parent="1" source="step4" target="gw2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c9" value="Nein" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#b85450;fontSize=10;" edge="1" parent="1" source="gw2" target="error">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c10" value="Ja" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;fontSize=10;" edge="1" parent="1" source="gw2" target="step5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d79b00;" edge="1" parent="1" source="step5" target="db">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" edge="1" parent="1" source="db" target="step6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="920" y="315" />
              <mxPoint x="920" y="210" />
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="c13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" edge="1" parent="1" source="step6" target="step7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="c14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#666666;" edge="1" parent="1" source="step7" target="end">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ==================== TIMING INFO ==================== -->
        <mxCell id="timing-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;opacity=70;" vertex="1" parent="1">
          <mxGeometry x="40" y="470" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="timing-title" value="⏱️ Typische Latenz" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="55" y="478" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="timing-content" value="• Cache Hit: &lt;100ms (direkt zu Response)&#xa;• Volle Pipeline: 3-5 Sekunden&#xa;  - SQL-Generierung: 2-3s&#xa;  - Validierung: 1-2s&#xa;  - Query Execution: 50-200ms" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="55" y="500" width="220" height="65" as="geometry" />
        </mxCell>

        <!-- ==================== LEGENDE ==================== -->
        <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="480" y="470" width="500" height="100" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="Legende" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="495" y="478" width="60" height="20" as="geometry" />
        </mxCell>

        <!-- Legend Row 1 -->
        <mxCell id="l1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="495" y="505" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="l1t" value="Start" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="515" y="502" width="35" height="20" as="geometry" />
        </mxCell>

        <mxCell id="l2" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="560" y="505" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="l2t" value="Ende" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="580" y="502" width="35" height="20" as="geometry" />
        </mxCell>

        <mxCell id="l3" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="625" y="503" width="18" height="18" as="geometry" />
        </mxCell>
        <mxCell id="l3t" value="Gateway" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="648" y="502" width="55" height="20" as="geometry" />
        </mxCell>

        <!-- Legend Row 2 -->
        <mxCell id="l4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="495" y="530" width="20" height="12" as="geometry" />
        </mxCell>
        <mxCell id="l4t" value="Frontend" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="520" y="527" width="55" height="18" as="geometry" />
        </mxCell>

        <mxCell id="l5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="585" y="530" width="20" height="12" as="geometry" />
        </mxCell>
        <mxCell id="l5t" value="LLM/BSL" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="610" y="527" width="55" height="18" as="geometry" />
        </mxCell>

        <mxCell id="l6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="675" y="530" width="20" height="12" as="geometry" />
        </mxCell>
        <mxCell id="l6t" value="Backend" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="700" y="527" width="55" height="18" as="geometry" />
        </mxCell>

        <mxCell id="l7" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="765" y="530" width="20" height="12" as="geometry" />
        </mxCell>
        <mxCell id="l7t" value="Database" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="790" y="527" width="55" height="18" as="geometry" />
        </mxCell>

        <mxCell id="l8" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="855" y="530" width="20" height="12" as="geometry" />
        </mxCell>
        <mxCell id="l8t" value="External/Error" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="880" y="527" width="80" height="18" as="geometry" />
        </mxCell>

        <!-- Legend Lines -->
        <mxCell id="l9" value="───" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="495" y="550" width="25" height="18" as="geometry" />
        </mxCell>
        <mxCell id="l9t" value="Sequenzfluss" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="520" y="550" width="75" height="18" as="geometry" />
        </mxCell>

        <mxCell id="l10" value="- - -" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="610" y="550" width="25" height="18" as="geometry" />
        </mxCell>
        <mxCell id="l10t" value="Cache-Hit / API-Call" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="635" y="550" width="110" height="18" as="geometry" />
        </mxCell>

        <!-- Version -->
        <mxCell id="version" value="v9.0.0 | DHBW Stuttgart | Januar 2026" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="1040" y="555" width="220" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
